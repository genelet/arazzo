provider:
    name: petStoreDescription
    server_url: https://petstore3.swagger.io/api/v3
    appendices:
        info_description: |
            This workflow walks you through the steps of `searching` for, `selecting`, and `purchasing` an available pet.
        info_summary: This workflow showcases how to purchase a pet through a sequence of API calls
        info_title: A pet purchasing workflow
        info_version: 1.0.1
workflows:
    - workflow_id: loginUserRetrievePet
      summary: Login User and then retrieve pets
      description: This procedure lays out the steps to login a user and then retrieve pets
      inputs:
        properties:
            password:
                type: string
            username:
                type: string
        type: object
      outputs:
        available: $steps.getPetStep.outputs.availablePets
      depends_on: []
      success_actions: []
      failure_actions: []
      steps:
        - name: loginStep
          description: This step demonstrates the user login step
          parameters:
            - in: query
              name: username
              value: $inputs.username
            - in: query
              name: password
              value: $inputs.password
          request_body: {}
          success_criteria:
            - condition: $statusCode == 200
          on_success: []
          on_failure: []
          outputs:
            rateLimit: $response.header.X-Rate-Limit
            sessionToken: $response.body
            tokenExpires: $response.header.X-Expires-After
          operation_path: ""
          operation_id: $sourceDescriptions.petStoreDescription.loginUser
          workflow_id: ""
        - name: getPetStep
          description: retrieve a pet by status from the GET pets endpoint
          parameters:
            - in: query
              name: status
              value: available
            - in: header
              name: Authorization
              value: $steps.loginStep.outputs.sessionToken
          request_body: {}
          success_criteria:
            - condition: $statusCode == 200
          on_success: []
          on_failure: []
          outputs:
            availablePets: $response.body
          operation_path: '{$sourceDescriptions.petStoreDescription.url}#/paths/~1pet~1findByStatus'
          operation_id: ""
          workflow_id: ""
        - name: placeOrderStep
          description: Place an order for a pet
          parameters: []
          request_body:
            contentType: application/json
            payload:
                complete: true
                petId: 1
                quantity: 1
                status: placed
          success_criteria:
            - condition: $statusCode == 200
          on_success: []
          on_failure: []
          outputs:
            orderId: $response.body.id
          operation_path: ""
          operation_id: $sourceDescriptions.petStoreDescription.placeOrder
          workflow_id: ""
